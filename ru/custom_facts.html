<!--# include file="_start.html" -->
<!--# include file="currentver.html" -->
<h1><span>CBSD: кастомные факты окружений</span></h1>
<div class="block">
	<p>При работы с командами <a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_jls_ssi.html">jls</a>,
	<a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_jget_ssi.html">jget</a>,
	<a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_bls_ssi.html">bls</a>,
	<a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_bget_ssi.html">bget</a>,
	<a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_xls_ssi.html">xls</a>,
	<a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_xget_ssi.html">xget</a>, вы видите значения базовых переменных <strong>CBSD</strong>. Однако, вы можете дополнять и создавать для окружений свои собственные информативные поля, расширяя тем самым вывод <strong>CBSD</strong>.</p>
	<p>Для этих целей служит каталог <em>${workdir}/jails-system/${jname}/facts.d</em>, в который вы можете сохранить под произвольным именем выполняемый файл. Имя этого файла - это и есть ваше кастомное поле и информация, которую выведет ваш скрипт,
	будет доступна для вышеупомянутых скриптов. Значение при выводе должно быть в формате одного слова(цифр).</p>
	<p>При этом, внутри ваших скриптов, вам будут доступны внутренние факты окружений от <strong>CBSD</strong>: <a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_cbsd_variables_ssi.html">Переменные CBSD</a>.</p>
	<p>Например:</p>
	<pre class="brush:bash;ruler:true;">
		% cat &gt; /usr/jails/jails-system/jail1/facts.d/mycustom1 &lt;&lt;EOF
#!/bin/sh
echo "MYCUSTOM1"
EOF

		% chmod +x /usr/jails/jails-system/jail1/facts.d/mycustom1
		% cbsd jls display=jname,mycustom1
		% cbsd jget jname=jail1 mycustom1
	</pre>
	<p class="text-center"><img src="/img/custom_facts1.png" alt="" /></p>
<!--# include file="_end.html" -->
